<!-- register start -->
<section class="min-h-screen px-12 py-5 flex items-center">
    <div class="auth-box">

        <%- include("../layouts/headerAuth.ejs") %>
        
        <div class="w-full md:w-1/2 md:order-first">
            <form action="/auth/register?role=<%= role %>" method="post">
                <div class="border border-primary-5/60 rounded-lg overflow-hidden mb-5">
                    <div class="flex text-center text-xs overflow-hidden bg-slate-50 sm:text-sm"
                        id="form">
                        <a href="/auth/register?role=custumer" class="option-input">As Custumer</a>
                        <a href="/auth/register?role=seller" class="option-input">As Seller</a>
                    </div>
                    <div class="relative py-3 px-3 md:py-5">
                        <input type="text" name="username" class="input-form-auth-register" placeholder="Username" required>
                        
                        <input type="email" name="email" class="input-form-auth-register" placeholder="Email">

                        <% if (msg.length > 0) { %>
                        <input type="password" name="password" class="input-form-auth-register error-form" placeholder="Password" id="password1" required>
                        <img src="../img/view.png" alt="visible" class="w-5 absolute bottom-[69px] right-5 cursor-pointer hover:scale-110 transition sm:bottom-[74px] md:bottom-[82px]" id="viewPass1">
                        
                        <input type="password" name="passwordConfirm" class="input-form-auth-register error-form" placeholder="Confirm Password" id="password2" required>
                        <img src="../img/view.png" alt="visible" class="w-5 absolute bottom-[26px] right-5 cursor-pointer hover:scale-110 transition sm:bottom-[30px] md:bottom-[38px]" id="viewPass2">
                        <p class="absolute text-red-500 text-[10px] left-3.5 bottom-1.5 sm:text-[11px] md:text-xs md:bottom-3"><%= msg %></p>

                        <% } else { %>
                        
                        <input type="password" name="password" class="input-form-auth-register" placeholder="Password" id="password1" required>
                        <img src="../img/view.png" alt="visible" class="w-5 absolute bottom-[69px] right-5 cursor-pointer hover:scale-110 transition sm:bottom-[74px] md:bottom-[82px]" id="viewPass1">
                        
                        <input type="password" name="passwordConfirm" class="input-form-auth-register" placeholder="Confirm Password" id="password2" required>
                        <img src="../img/view.png" alt="visible" class="w-5 absolute bottom-[26px] right-5 cursor-pointer hover:scale-110 transition sm:bottom-[30px] md:bottom-[38px]" id="viewPass2">
                        
                        <% } %>

                    </div>
                </div>

                <button type="submit" class="btn-primary">register</button>
                <p class="text-center text-xs sm:text-sm md:text-base">have an account? <a href="/auth/login?role=custumer" class="block underline text-primary-5 hover:text-primary-7 md:inline">Sign in</a></p>
            </form>
        </div>
    </div>
</section>
<!-- register end -->
<script>
    // optionform
    const [custumer, seller] = Array.from(document.getElementById("form").children);
    if (window.location.search === "?role=custumer") custumer.classList.add("form-active");
    if (window.location.search === "?role=seller") seller.classList.add("form-active");

    // visible password
    const viewPass = document.getElementById("viewPass1");
    viewPass.addEventListener("click", () => {
        const inputPass = document.getElementById("password1");
        if (viewPass.classList.contains("viewPassword")) {
            viewPass.src = "../img/view.png";
            inputPass.type = "password";
            viewPass.classList.remove("viewPassword");
        } else {
            viewPass.src = "../img/unview.png";
            inputPass.type = "text";
            viewPass.classList.add("viewPassword");
        };
    });

    // visible confirm password
    const viewPass2 = document.getElementById("viewPass2");
    viewPass2.addEventListener("click", () => {
        const inputPass = document.getElementById("password2");
        if (viewPass2.classList.contains("viewPassword")) {
            viewPass2.src = "../img/view.png";
            inputPass.type = "password";
            viewPass2.classList.remove("viewPassword");
        } else {
            viewPass2.src = "../img/unview.png";
            inputPass.type = "text";
            viewPass2.classList.add("viewPassword");
        };
    });
</script>